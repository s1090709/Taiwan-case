import JoinCSV from "JoinCSV";
 
//pass the two files, and the ids to merge on
let csvJoiner = new JoinCSV(".. path to CSV1", ".. path to CSV 2", "id", "anotherId");
var result = await csvJoiner.PerformJoin();
console.log(result);

//number gives the first or second csv
//record is the json csv record pertaining to that file, just manipulate it and clean your data.
 
var result = await csvJoiner.PerformJoin(cleanUpRecord);
 
function cleanUpRecord(csvNumber: number, record: any) {
    if (csvNumber == 2) {
        record["property1"] = record["property1"] + "my new cleaned value";
        var csvResult = await csvJoiner.convertData2CSV(result.data, "test3.csv");
    }
}
